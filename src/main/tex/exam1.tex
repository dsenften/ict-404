\documentclass[12pt,a4paper]{exam}
\usepackage{natbib}

\printanswers % If you want to print answers
%\noprintanswers % If you don't want to print answers

\renewcommand{\solutiontitle}{\noindent\textbf{Lösung:}\enspace}

\RequirePackage{talent-factory}
\RequirePackage[top=3cm,bottom=2cm,left=2cm,right=1.5cm,headsep=10pt,a4paper]{geometry} % Page margins

\newcommand{\class}{Modul 404}
\newcommand{\examnum}{Test 1}
\newcommand{\examdate}{15.02.2019}
\newcommand{\timelimit}{45 Minuten}

\pagestyle{head}
\firstpageheader{}{}{}
\runningheader{\class}{\examnum\ - Seite \thepage\ / \numpages}{\examdate}
\runningheadrule

\begin{document}

    \setmainfont{Verdana}
    \parindent0em\parskip1em

    % Deutsche Schreibweise diverser Labels
    \pointpoints{Punkt}{Punkte}


    \noindent
    \begin{tabular*}{\textwidth}{l @{\extracolsep{\fill}} r @{\extracolsep{6pt}} l}
        \textbf{\class}           & \textbf{Name:} & \makebox[2in]{\hrulefill} \\
        \textbf{\examnum}         & & \\
        \textbf{\examdate}        & & \\
        \textbf{Zeit: \timelimit} & Dozent: & \makebox[2in]{Daniel Senften}
    \end{tabular*}\\
    \rule[1ex]{\textwidth}{1pt}

    Dieser Test besteht aus \numpages\ Seiten (inkl. Titelseite) und
    \numquestions\ Fragen. Wenn alle Fragen richtig beantwortet werden,
    dann sind maximal \numpoints\ möglich.


    \begin{center}
        \textbf{Punktetabelle}\footnote{Diese Tabelle wird durch den Dozenten
        nach der Prüfung ausgefüllt.} \\ \vskip1em
        \addpoints

        \hqword{Aufgabe}
        \hpword{Punkte}
        \htword{\textbf{Total}}
        \hsword{Erreicht}
        \gradetable[h][questions]
    \end{center}

    \noindent
    \rule[1ex]{\textwidth}{1pt}

    % ===========================================================================

    \begin{questions}

        \question[10] Gegeben sind folgende beiden Klassen. Zeichne das vollständige
        UML Diagramm.

        \begin{minipage}{0.45\textwidth}
            \inputminted[autogobble,linenos,frame=single]{java}{../java/academy/One.java}
        \end{minipage}
        \begin{minipage}{0.49\textwidth}
            \inputminted[autogobble,frame=single]{java}{../java/academy/Two.java}
        \end{minipage}
        \makeemptybox{5cm}
        \addpoints

        % -----------------------------------------------
        \newpage
        \question[6] Denken Sie an unser Projekt \emph{Time}, in welchem wir eine digitale
        Uhr simulierten. Was würde passieren, wenn wir die Methode \mintinline{java}
        {setValue()} mit einem ungültigen Wert aufrufen? Ist das eine gute Lösung? Können
        Sie sich eine bessere vorstellen?

        % setValue()
        \inputminted[autogobble,firstline=53,lastline=57]
        {java}{../java/time/NumberDisplay.java}
        \addpoints

        \ifprintanswers
        \begin{solution}
            \begin{itemize}
                \item Mit einem ungültigen Wert passiert nicht.
                \item Nein, dies ist definitiv keine gute Lösung.
                \item Es sollte ein \emph{ErrorHandling} eingebaut werden.
            \end{itemize}
        \end{solution}
        \else\makeemptybox{2in}
        \fi


        % -----------------------------------------------
        \question[4] Was würde passieren, wenn wir den Oparator \texttt{>=} in der Methode
        \mintinline{java}{setValue()} durch \texttt{>} ersetzen würden, und zwar auf folgende
        Weise:

        \mintinline{java}{if((value > 0) && (value < limit))}
        \addpoints

        \ifprintanswers
        \begin{solution}
            Der Wert '0' könnte nie übergeben werden. Dies wird allerdings nicht
            durch eine entsprechende Fehlermeldung unterstützt.
        \end{solution}
        \else\makeemptybox{2in}
        \fi


        % -----------------------------------------------
        {%
        \checkboxchar{$\Box$} % changing checkbox style locally
        \question[5] Die boolsche Algebra ist ein sehr wichtiger Bestandteil in der
        Softwareentwicklung. Welche der folgenden Ausdrücke liefern den Wert \texttt{true}?

        \addpoints
        \begin{checkboxes}
            \choice \mintinline{java}{! (4 < 5)}
            \CorrectChoice \mintinline{java}{! false}
            \choice \mintinline{java}{(2 > 2) || ((4 == 4) && (1 < 0))}
            \choice \mintinline{java}{(2 > 2) || (4 == 4) && (1 < 0)}
            \CorrectChoice \mintinline{java}{(34 != 33) && ! false}
        \end{checkboxes}
        }%

        % -----------------------------------------------
        \newpage
        \question[5] Schreiben Sie einen Ausdruck mit zwei boolschen Variablen \texttt{a}
        und \texttt{b}, der \texttt{true} liefert, wenn nur genau eine von beiden \texttt{true}
        ist, und \texttt{false} liefert, wenn \texttt{a} und \texttt{b} beide \texttt{false}
        oder beide \texttt{true} sind\footnote{Dieser Ausdruck bezeichnet man auch als
        exklusives Oder}.
        \addpoints

        \ifprintanswers
        \begin{solution}
            Die einfachste Lösung ist:
            \mintinline{text}{a != b}
        \end{solution}
        \else\makeemptybox{2in}
        \fi


        % -----------------------------------------------
        \question[10] Ändern Sie die 24-Stunden-Anzeige in eine 12-Stunden-Anzeige
        mit einem entsprechenden \emph{Suffix} von \texttt{am} (Vormittag) resp.
        \texttt{pm} (Nachmittag).

        % updateDisplay()
        \inputminted[autogobble,firstline=74,lastline=77]
        {java}{../java/time/Display.java}
        \addpoints

        \ifprintanswers
        \begin{solution}
            \begin{minted}[autogobble]{java}
                private void updateDisplay() {
                    String suffix = " am";
                    int hour = hours.getValue();
                    if (hour >= 12) {
                        hour -= 12;
                        suffix = " pm";
                    }
                    if (hour == 0) hour = 12;
                    displayString = ((hour < 10) ? "0" + hour : hour) + ":"
                            + minutes.getDisplayValue() + suffix;
                }
            \end{minted}
        \end{solution}
        \else\makeemptybox{2in}
        \fi


        % -----------------------------------------------
        \newpage
        \question[10]
        Mit folgender Klasse soll ein Objekt eines bestimmten Datentyps (z.B.
        \mintinline{java}{Integer}) erstellt und anschliessend die Methode
        \mintinline{java}{add()} aufgerufen werden.
        \inputminted[autogobble,linenos,firstline=3]{java}{../java/generics/Cache.java}

        \ifprintanswers
        \begin{solution}
            \begin{minted}[autogobble]{java}
                Cache<Integer> myCache = new Chache<>();
                myCache.add(123); // autoboxing
            \end{minted}
        \end{solution}
        \else\makeemptybox{2in}
        \fi

        % -----------------------------------------------
        {%
        \checkboxchar{$\Box$} % changing checkbox style locally
        \question[4] Welches sind korrekte Definitionen der \mintinline{java}{main()} Methode,
        damit das Programm gestartet werden kann.
        \addpoints
        \begin{checkboxes}
            \choice \mintinline{java}{public static main(String[] args)}
            \CorrectChoice \mintinline{java}{public static void main(String... args)}
            \choice \mintinline{java}{public void main(String[] args)}
            \CorrectChoice \mintinline{java}{public static void main(String args[])}
        \end{checkboxes}
        }%

        % -----------------------------------------------
        \newpage
        \question[10]
        Objekte und Klassen bauen auf folgenden (nicht abschliessenden) Konzepten auf.
        Was verstehen wir unter den einzelnen Punkten. Gefragt ist eine kurze, stichwortartige
        Umschreibung von:
        \begin{itemize}
            \item Klasse
            \item Objekt
            \item Eigenschaft
            \item Methode
            \item Datentyp
        \end{itemize}
        \makeemptybox{\fill}

        % -----------------------------------------------
        \newpage
        \question[10]
        Gegeben ist die folgende Klasse:
        \inputminted[autogobble,linenos]{java}{../java/academy/calculator/InputValidator.java}

        Was ist das Resultat, wenn ich dieses Programm (Zeile 25) starte:

        \ifprintanswers
        \begin{solution}
            Die Ausgabe ist:

            \mintinline{text}{[-3] Negative Zahlen sind nicht erlaubt.}
        \end{solution}
        \else\makeemptybox{\fill}
        \fi

    \end{questions}

\end{document}
